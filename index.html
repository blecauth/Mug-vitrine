<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Canecas Personalizadas</title>
  <link rel="stylesheet" href="src/styles.css">
</head>
<body>

  <!-- üü¢ MENU HAMB√öRGUER -->
  <header class="menu-header">
    <div class="menu-toggle" id="menuToggle">
      <span></span>
      <span></span>
      <span></span>
    </div>

    <nav class="menu" id="menu">
      <ul>
        <li><a href="#inicio" class="menu-link">In√≠cio</a></li>
        <li class="menu-categoria">
          <span class="menu-link categoria-toggle">Categorias ‚ñæ</span>
          <ul class="submenu" id="submenuCategorias">
            <li><a href="#" class="menu-link">Brancas</a></li>
            <li><a href="#" class="menu-link">Coloridas</a></li>
            <li><a href="#" class="menu-link">Dia das M√£es</a></li>
            <li><a href="#" class="menu-link">Dia dos Pais</a></li>
            <li><a href="#" class="menu-link">Dia dos Professores</a></li>
            <li><a href="#" class="menu-link">Pets</a></li>
            <li><a href="#" class="menu-link">Her√≥is</a></li>
            <li><a href="#" class="menu-link">Animes</a></li>
            <li><a href="#" class="menu-link">Com Foto</a></li>
            <li><a href="#" class="menu-link">Futebol</a></li>
          </ul>
        </li>
        <li><a href="#contatos" class="menu-link">Contatos</a></li>
        <li><a href="#sobre" class="menu-link">Quem Somos</a></li>
        <li><a href="login.html" class="menu-link">ADMIN</a></li>
      </ul>
    </nav>

    <!-- üî≤ Overlay escuro -->
    <div class="menu-overlay" id="menuOverlay"></div>
  </header>

  <!-- üîç CABE√áALHO PRINCIPAL -->
  <section class="header-main" id="inicio">
    <h1>Canecas Personalizadas</h1>
    <p>Escolha o estilo que combina com voc√™ ‚òï‚ú®</p>

    <div class="busca-container">
      <input type="text" id="buscaId" placeholder="Buscar por ID ou nome...">
    </div>
  </section>

  <!-- üñºÔ∏è GALERIA -->
  <section class="galeria" id="galeria">
    <!-- Os produtos ser√£o carregados dinamicamente via JavaScript -->
  </section>

  <p id="nenhumProduto" style="display: none;">Nenhum produto encontrado üîç</p>

  <div id="produtoModal" class="modal">
    <div class="modal-content">
      <span class="close-button">&times;</span>
      <div class="modal-body">
        <div class="modal-image-container">
          <img id="modalImage" src="" alt="">
        </div>
        <div class="modal-details">
          <h2 id="modalTitle"></h2>
          <p id="modalSpecs"></p>
          <h3>Modelos dispon√≠veis:</h3>
          <div id="modalOptions" class="model-options"></div>
          <div class="modal-price" id="modalPrice"></div>
          <button id="buyButton" class="buy-button">Comprar via WhatsApp</button>
        </div>
      </div>
    </div>
  </div>

  <footer>¬© 2025 ‚Ä¢ Canecas Personalizadas ‚Äî Todos os direitos reservados</footer>

  <script src="src/script.js" defer></script>
  <script>
    // Carregar produtos do JSON
    document.addEventListener('DOMContentLoaded', function() {
      fetch('data/products.json')
        .then(response => response.json())
        .then(data => {
          const galeria = document.getElementById('galeria');
          const nenhumProduto = document.getElementById('nenhumProduto');
          
          if (data.produtos && data.produtos.length > 0) {
            data.produtos.forEach(produto => {
              const item = document.createElement('div');
              item.className = 'item';
              item.setAttribute('data-categoria', produto.categoria || 'geral');
              
              // Usar a primeira op√ß√£o como imagem principal
              const primeiraOpcao = produto.opcoes && produto.opcoes.length > 0 ? produto.opcoes[0] : {};
              
              item.innerHTML = `
                <img src="${primeiraOpcao.imagem || produto.imagem || ''}" alt="${produto.nome}">
                <div class="info">
                  <h2>${produto.nome}</h2>
                  <p>ID: ${produto.id}</p>
                  <p>R$ ${primeiraOpcao.preco ? primeiraOpcao.preco.toFixed(2).replace('.', ',') : '0,00'}</p>
                  <button class="open-modal-btn"
                    data-name="${produto.nome}"
                    data-id="${produto.id}"
                    data-image="${primeiraOpcao.imagem || produto.imagem || ''}"
                    data-specs="${produto.especificacoes || ''}"
                    data-options='${JSON.stringify(produto.opcoes || [])}'>Ver Detalhes</button>
                </div>
              `;
              
              galeria.appendChild(item);
            });
            
            nenhumProduto.style.display = 'none';
          } else {
            nenhumProduto.style.display = 'block';
          }
          
          // Re-inicializar event listeners ap√≥s carregar os produtos
          if (typeof initModalListeners === 'function') {
            initModalListeners();
          }
        })
        .catch(error => {
          console.error('Erro ao carregar produtos:', error);
          document.getElementById('nenhumProduto').style.display = 'block';
        });
    });
  </script>
</body>
</html>
